# ************** <auto-copyright.pl BEGIN do not edit this line> **************
#
# VR Juggler is (C) Copyright 1998-2011 by Iowa State University
#
# Original Authors:
#   Allen Bierbaum, Christopher Just,
#   Patrick Hartling, Kevin Meinert,
#   Carolina Cruz-Neira, Albert Baker
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Library General Public
# License as published by the Free Software Foundation; either
# version 2 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Library General Public License for more details.
#
# You should have received a copy of the GNU Library General Public
# License along with this library; if not, write to the
# Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
# Boston, MA 02110-1301, USA.
#
# *************** <auto-copyright.pl END do not edit this line> ***************

# -----------------------------------------------------------------------------
# Makefile.in for tweek/tweek/idl.  It requires GNU make.
#
# Generated for use on @PLATFORM@
# -----------------------------------------------------------------------------

# Generated by mkmakefile.pl using the following options:
#    --subobjdir=$(TWEEK_LIBRARY)

default: all

# Include common definitions here.
include @topdir@/make.defs.mk

includedir=		@includedir@/tweek/idl
srcdir=			@srcdir@
top_srcdir=		@top_srcdir@
IDL_GENDIR=		.
CXX_IDL_OPTS=		@CXX_IDL_OPTS@ @CXX_IDL_GENDIR_OPT@$(IDL_GENDIR)
CXX_IDL_INCLUDES=	@CXX_IDL_INCFLAG@$(top_srcdir)
EXTRA_INCLUDES+=	-I$(IDL_GENDIR)
INSTALL=		@INSTALL@
INSTALL_FILES=		$(wildcard $(srcdir)/*.idl)			\
			$(wildcard $(IDL_GENDIR)/*.h)			\
			$(wildcard $(IDL_GENDIR)/*.inl)			\
			$(wildcard $(IDL_GENDIR)/*S_T.cpp)
SUBOBJDIR=		$(TWEEK_LIBRARY)

SERVER_EXT=		@IDL_SERVER_EXT@
SERVER_TMPL_EXT=	@IDL_SERVER_TMPL_EXT@
CLLIENT_EXT=		@IDL_CLIENT_EXT@

SERVER_EXT_CPP=		$(SERVER_EXT).cpp
SERVER_EXT_H=		$(SERVER_EXT).h
SERVER_TMPL_EXT_CPP=	$(SERVER_EXT_TMPL).cpp
SERVER_TMPL_EXT_H=	$(SERVER_EXT_TMPL).h
CLIENT_EXT_CPP=		$(CLIENT_EXT).cpp
CLIENT_EXT_H=		$(CLIENT_EXT).h

IDL_CXX_FILE_BASES= \
	SubjectManager		\
	Subject			\
	Observer		\
	BeanDeliverySubject

BUILD_CXX=		@BUILD_CXX@

ifeq ($(BUILD_CXX), Y)
IDL_GEN_FILES=	$(addsuffix $(SERVER_EXT_CPP), $(IDL_CXX_FILE_BASES))	\
		$(addsuffix $(SERVER_EXT_H), $(IDL_CXX_FILE_BASES))

ifneq ($(SERVER_TMPL_EXT), )
IDL_GEN_FILES+=	$(addsuffix $(SERVER_TMPL_EXT_CPP), $(IDL_CXX_FILE_BASES)) \
		$(addsuffix $(SERVER_TMPL_EXT_H), $(IDL_CXX_FILE_BASES))
endif

ifneq ($(CLIENT_EXT), )
IDL_GEN_FILES+=	$(addsuffix $(CLIENT_EXT_CPP), $(IDL_CXX_FILE_BASES))	\
		$(addsuffix $(CLIENT_EXT_H), $(IDL_CXX_FILE_BASES))
endif

CXX_FILES+=	$(addsuffix $(SERVER_EXT_CPP), $(IDL_CXX_FILE_BASES))

ifneq ($(SERVER_TMPL_EXT), )
CXX_FILES+=	$(addsuffix $(SERVER_TMPL_EXT_CPP), $(IDL_CXX_FILE_BASES))
endif

ifneq ($(CLIENT_EXT), )
CXX_FILES+=	$(addsuffix $(CLIENT_EXT_CPP), $(IDL_CXX_FILE_BASES))
endif

IDL_CXX_FILES=	$(sort $(IDL_GEN_FILES))
SRCS=		$(sort $(CXX_FILES))
endif

include $(MKPATH)/dpp.obj.mk

CLEAN_FILES+=		$(addprefix $(IDL_GENDIR)/, $(IDL_CXX_FILES))

# -----------------------------------------------------------------------------
# Include dependencies generated automatically.
# -----------------------------------------------------------------------------
ifndef DO_CLEANDEPEND
ifndef DO_IDL
   -include $(DEPEND_FILES)
endif
endif
